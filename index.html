<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Barcode Scanner</title>
</head>
<body>
<h1>Barcode Scanner</h1>
<video id="video" width="640" height="480" autoplay></video>
<div id="output"></div>

<script>
// Function to start the barcode scanner
function startScanner() {
    // Get video element
    var video = document.getElementById('video');

    // Access the device camera
    navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
        .then(function(stream) {
            video.srcObject = stream;
        })
        .catch(function(error) {
            console.error('Error accessing camera:', error);
        });

    // Create a canvas element to capture frames
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');

    // Function to capture frames and decode barcodes
    function captureFrame() {
        // Draw video frame onto the canvas
        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

        // Get image data from the canvas
        var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);

        // Decode barcode from the image data (you can use any barcode decoding library here)
        // For example, using ZXing JavaScript library:
        // var code = decodeBarcode(imageData);
        
        // For demonstration purposes, just display the raw image data
        document.getElementById('output').textContent = imageData;
        
        // Request next frame
        requestAnimationFrame(captureFrame);
    }

    // Start capturing frames
    captureFrame();
}

// Start the barcode scanner when the page loads
document.addEventListener('DOMContentLoaded', startScanner);
</script>
</body>
</html>
